<!--
@license
Copyright (c) 2016 Convoo All Rights Reserved.
Use of this source code is governed by a MIT license that can be found in the
LICENSE file or at https://github.com/convoo/login-fire/blob/master/LICENSE.
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../polymerfire/firebase-document.html">

<!--
`form-fire`
A collection of elements for inserting text and image data to firebase database

@demo demo/index.html 
-->

<dom-module id="form-fire">
<template>

<firebase-document
    app-name="[[appName]]"
    id="form"
    path="[[path]]">
</firebase-document>

    <style>
    :host {
        display: block;
    }
    </style>
    <content></content>
</template>

<script>

Polymer({
    is: 'form-fire',
    properties: {
        path: {
            type: String,
        },
    },

// https://www.polymer-project.org/1.0/docs/devguide/local-dom

    attached: function() {
        this.nodes = Polymer.dom(this).children;
        for (var i = 0; i < this.nodes.length; i++) {
            if (this.nodes[i].value && this.nodes[i].name){
                var myObj = new Object;
                var name = this.nodes[i].name;
                var value = this.nodes[i].value;
                myObj[name] = value;
                this.$.form.ref.update(myObj);
            }
        }
    },

});
</script>
</dom-module>
